<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aviator Predictor Pro AI</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Custom animations */
        @keyframes pulse-slow {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .animate-pulse-slow {
            animation: pulse-slow 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        .fade-in {
            animation: fadeIn 0.4s ease-out forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .text-glow {
            text-shadow: 0 0 10px rgba(6, 182, 212, 0.5);
        }
        .text-glow-gold {
            text-shadow: 0 0 10px rgba(234, 179, 8, 0.5);
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: #020617; 
        }
        ::-webkit-scrollbar-thumb {
            background: #1e293b; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #334155; 
        }
    </style>
</head>
<body class="bg-[#0b0e14] text-slate-100 font-sans min-h-screen p-4 md:p-6 relative selection:bg-cyan-500/30">

    <div class="max-w-5xl mx-auto space-y-6">
        
        <!-- Header -->
        <header class="flex items-center justify-between border-b border-slate-800/60 pb-5 backdrop-blur-sm sticky top-0 z-40 bg-[#0b0e14]/80">
            <div class="flex items-center gap-4">
                <div class="bg-gradient-to-tr from-cyan-600 to-blue-700 p-2.5 rounded-xl shadow-[0_0_20px_rgba(6,182,212,0.3)]">
                    <i data-lucide="radar" class="w-7 h-7 text-white"></i>
                </div>
                <div>
                    <h1 class="text-2xl md:text-3xl font-black italic tracking-tighter bg-gradient-to-r from-white via-cyan-200 to-cyan-500 bg-clip-text text-transparent">
                        PREDICTOR<span class="text-cyan-500">.AI</span>
                    </h1>
                    <div class="flex items-center gap-3 text-[10px] font-mono tracking-widest text-slate-400">
                        <span class="flex items-center gap-1">
                            <span class="w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"></span>
                            ONLINE
                        </span>
                        <span>v4.2.0-PRO &bull; THINETH</span>
                    </div>
                </div>
            </div>
            
            <div class="flex items-center gap-4">
                <div class="hidden md:block text-right">
                    <div id="current-clock" class="text-xl font-mono font-bold text-white tracking-widest">00:00:00</div>
                    <div class="text-[10px] text-cyan-500 font-bold uppercase tracking-widest text-right">Server Time</div>
                </div>
                <button id="btn-open-manual" class="bg-slate-900 hover:bg-slate-800 text-slate-300 p-2.5 rounded-full border border-slate-700 transition-all hover:scale-105 active:scale-95">
                    <i data-lucide="settings-2" class="w-5 h-5"></i>
                </button>
            </div>
        </header>

        <!-- Main Content Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
            
            <!-- LEFT PANEL: DATA ENTRY (4 cols) -->
            <div class="lg:col-span-5 space-y-5">
                
                <!-- Input Module -->
                <div class="bg-[#131722] rounded-2xl p-5 border border-slate-800 shadow-xl relative overflow-hidden group">
                    <!-- Decor -->
                    <div class="absolute top-0 right-0 w-32 h-32 bg-cyan-500/5 rounded-full blur-3xl -mr-10 -mt-10"></div>
                    
                    <div class="flex items-center justify-between mb-5 relative z-10">
                        <h2 class="flex items-center gap-2 text-sm font-bold text-slate-300 uppercase tracking-wider">
                            <i data-lucide="database-zap" class="w-4 h-4 text-cyan-500"></i>
                            Round Data Input
                        </h2>
                        <div class="text-[10px] bg-slate-900 px-2 py-1 rounded text-slate-500 font-mono border border-slate-800">
                            REQ: 5 ROUNDS
                        </div>
                    </div>
                    
                    <form id="add-round-form" class="space-y-4 relative z-10">
                        <div class="grid grid-cols-2 gap-3">
                            <!-- Time Input -->
                            <div class="space-y-1.5">
                                <label class="text-[10px] text-slate-500 uppercase font-bold pl-1">Time</label>
                                <div class="relative group">
                                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                        <i data-lucide="clock" class="h-4 w-4 text-slate-600 group-focus-within:text-cyan-500 transition-colors"></i>
                                    </div>
                                    <input type="text" id="input-time" placeholder="HH:MM:SS" 
                                        class="block w-full pl-10 pr-3 py-3 bg-[#0b0e14] border border-slate-800 rounded-lg focus:ring-1 focus:ring-cyan-500 focus:border-cyan-500 text-sm font-mono text-white placeholder-slate-700 transition-all">
                                </div>
                            </div>
                            
                            <!-- Odd Input -->
                            <div class="space-y-1.5">
                                <label class="text-[10px] text-slate-500 uppercase font-bold pl-1">Multiplier (x)</label>
                                <div class="relative group">
                                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                        <i data-lucide="trending-up" class="h-4 w-4 text-slate-600 group-focus-within:text-pink-500 transition-colors"></i>
                                    </div>
                                    <input type="text" id="input-odd" placeholder="e.g. 2.45" 
                                        class="block w-full pl-10 pr-3 py-3 bg-[#0b0e14] border border-slate-800 rounded-lg focus:ring-1 focus:ring-pink-500 focus:border-pink-500 text-lg font-mono font-bold text-white placeholder-slate-700 transition-all">
                                    <div class="absolute right-3 top-1/2 -translate-y-1/2">
                                        <span class="text-xs font-bold text-slate-600">x</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Error Msg -->
                        <div id="input-error" class="hidden bg-rose-500/10 border border-rose-500/20 text-rose-400 px-3 py-2 rounded-lg text-xs flex items-center gap-2">
                            <i data-lucide="alert-circle" class="w-3 h-3"></i>
                            <span id="input-error-text">Error</span>
                        </div>

                        <button type="submit" class="w-full bg-gradient-to-r from-slate-800 to-slate-700 hover:from-slate-700 hover:to-slate-600 text-white font-bold py-3 rounded-xl transition-all active:scale-[0.98] shadow-lg border border-slate-600 flex items-center justify-center gap-2 group">
                            <i data-lucide="plus-circle" class="w-4 h-4 text-cyan-400 group-hover:rotate-90 transition-transform"></i>
                            ADD DATA POINT
                        </button>
                    </form>
                </div>

                <!-- History Log -->
                <div class="bg-[#131722] rounded-2xl border border-slate-800 shadow-xl overflow-hidden flex flex-col h-[300px]">
                    <div class="p-4 border-b border-slate-800 bg-[#131722] flex justify-between items-center z-10">
                        <h3 class="font-bold text-xs text-slate-400 uppercase tracking-wider flex items-center gap-2">
                            <i data-lucide="history" class="w-3 h-3"></i>
                            History Log (<span id="history-count" class="text-white">0</span>)
                        </h3>
                        <button id="btn-clear-history" class="hidden text-[10px] text-rose-400 hover:text-rose-300 transition-colors flex items-center gap-1 uppercase font-bold">
                            Clear All
                        </button>
                    </div>
                    <div class="flex-1 overflow-y-auto p-0 scrollbar-thin">
                        <table class="w-full text-left border-collapse">
                            <tbody id="history-list">
                                <tr>
                                    <td class="p-8 text-center">
                                        <div class="flex flex-col items-center justify-center gap-3 opacity-30">
                                            <i data-lucide="bar-chart-2" class="w-10 h-10"></i>
                                            <span class="text-xs font-mono">NO DATA RECORDED</span>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- RIGHT PANEL: PREDICTION ENGINE (7 cols) -->
            <div class="lg:col-span-7 space-y-6">
                
                <div class="h-full bg-gradient-to-b from-[#131722] to-[#0b0e14] rounded-3xl border border-slate-800 p-1 shadow-2xl relative">
                    <!-- Cyber Border Effect -->
                    <div class="absolute top-0 left-1/2 -translate-x-1/2 w-1/3 h-[1px] bg-gradient-to-r from-transparent via-cyan-500 to-transparent opacity-50"></div>

                    <div class="h-full bg-[#0b0e14] rounded-[22px] p-6 md:p-8 flex flex-col justify-center relative overflow-hidden min-h-[500px]">
                        
                        <!-- Background Grid -->
                        <div class="absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5 mix-blend-overlay"></div>
                        <div class="absolute inset-0" style="background-image: radial-gradient(#1e293b 1px, transparent 1px); background-size: 32px 32px; opacity: 0.1;"></div>

                        <!-- 1. IDLE STATE -->
                        <div id="view-idle" class="relative z-10 flex flex-col items-center justify-center text-center space-y-8">
                            <div class="w-24 h-24 rounded-full bg-slate-900 border border-slate-800 flex items-center justify-center shadow-[0_0_30px_rgba(0,0,0,0.5)] relative">
                                <div class="absolute inset-0 rounded-full border border-cyan-500/20 animate-ping"></div>
                                <i data-lucide="cpu" class="w-10 h-10 text-slate-600" id="cpu-icon"></i>
                            </div>
                            
                            <div class="space-y-2 max-w-md mx-auto">
                                <h2 class="text-2xl font-bold text-white tracking-tight">AI Neural Engine Standby</h2>
                                <p id="idle-text" class="text-slate-500 text-sm leading-relaxed">
                                    System awaiting data calibration. Input the last 5 consecutive rounds to synchronize with the server RNG seed.
                                </p>
                            </div>

                            <!-- Progress Bar -->
                            <div id="calibration-ui" class="w-full max-w-xs mx-auto space-y-2">
                                <div class="flex justify-between text-[10px] uppercase font-bold text-slate-500">
                                    <span>Calibration</span>
                                    <span id="calibration-percent">0%</span>
                                </div>
                                <div class="h-1.5 w-full bg-slate-800 rounded-full overflow-hidden">
                                    <div id="progress-bar" class="h-full bg-cyan-500 w-0 transition-all duration-500 shadow-[0_0_10px_rgba(6,182,212,0.8)]"></div>
                                </div>
                            </div>

                            <button id="btn-generate" disabled class="group relative px-8 py-4 bg-slate-800 text-slate-500 font-bold rounded-xl transition-all cursor-not-allowed overflow-hidden w-full max-w-sm">
                                <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:animate-shimmer"></div>
                                <span class="flex items-center justify-center gap-2">
                                    <i data-lucide="lock" class="w-4 h-4"></i>
                                    SYSTEM LOCKED
                                </span>
                            </button>
                        </div>

                        <!-- 2. ANALYZING STATE -->
                        <div id="view-analyzing" class="hidden relative z-10 flex flex-col items-center justify-center h-full">
                            <!-- Loader -->
                            <div class="relative w-48 h-48 flex items-center justify-center mb-8">
                                <svg class="animate-spin absolute inset-0 w-full h-full text-slate-800" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="45" fill="none" stroke="currentColor" stroke-width="2" stroke-dasharray="10 10" />
                                </svg>
                                <svg class="animate-spin absolute inset-0 w-full h-full text-cyan-500" style="animation-duration: 3s; animation-direction: reverse;" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="35" fill="none" stroke="currentColor" stroke-width="1" stroke-dasharray="80 200" />
                                </svg>
                                <div class="text-center space-y-1">
                                    <div class="text-3xl font-black text-white font-mono" id="analysis-percent">0%</div>
                                    <div class="text-[9px] text-cyan-500 uppercase tracking-widest">Processing</div>
                                </div>
                            </div>
                            
                            <div class="space-y-1 text-center">
                                <div id="analysis-stage" class="text-lg font-bold text-white text-glow">Connecting to Host...</div>
                                <div id="analysis-sub" class="text-xs font-mono text-slate-500">Checking latency: 45ms</div>
                            </div>

                            <!-- Terminal Output -->
                            <div class="mt-8 w-full max-w-sm bg-black/40 border border-slate-800/50 rounded p-3 font-mono text-[10px] text-emerald-500/80 leading-tight space-y-1 overflow-hidden h-24 relative">
                                <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
                                <div id="terminal-logs"></div>
                            </div>
                        </div>

                        <!-- 3. RESULT STATE -->
                        <div id="view-result" class="hidden relative z-10 h-full flex flex-col">
                            
                            <!-- Timer Banner -->
                            <div id="alert-banner" class="hidden mb-6 rounded-lg p-3 bg-emerald-500/10 border border-emerald-500/30 text-emerald-400 flex items-center justify-center gap-3 animate-pulse">
                                <i data-lucide="timer" class="w-5 h-5"></i>
                                <span class="font-bold tracking-wider" id="alert-msg">SIGNAL ACTIVE</span>
                            </div>

                            <!-- Main Card -->
                            <div class="flex-1 flex flex-col justify-center items-center relative">
                                <!-- Glowing Ring -->
                                <div class="absolute w-[300px] h-[300px] bg-cyan-500/20 rounded-full blur-[80px] opacity-20 pointer-events-none"></div>

                                <div class="relative w-full max-w-md bg-[#131722]/90 backdrop-blur-md border border-slate-700/50 rounded-2xl p-1 shadow-2xl">
                                    <!-- Border Gradient -->
                                    <div class="absolute inset-0 rounded-2xl bg-gradient-to-b from-cyan-500/20 to-transparent pointer-events-none"></div>
                                    
                                    <div class="bg-[#0b0e14] rounded-xl p-6 relative overflow-hidden">
                                        
                                        <!-- Header Row -->
                                        <div class="flex justify-between items-end border-b border-slate-800 pb-4 mb-6">
                                            <div>
                                                <div class="text-[10px] text-slate-500 uppercase font-bold tracking-wider mb-1">Target Time</div>
                                                <div class="text-3xl font-black text-white font-mono tracking-wide flex items-baseline gap-1">
                                                    <span id="result-time">14:00</span>
                                                    <span class="text-xs text-slate-600 font-sans font-medium ml-1">UTC</span>
                                                </div>
                                            </div>
                                            <div class="text-right">
                                                <div class="text-[10px] text-slate-500 uppercase font-bold tracking-wider mb-1">Accuracy</div>
                                                <div class="text-xl font-bold text-emerald-400 flex items-center justify-end gap-1">
                                                    <i data-lucide="shield-check" class="w-4 h-4"></i>
                                                    <span id="result-confidence">98.5%</span>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Big Prediction -->
                                        <div class="text-center py-4">
                                            <div class="text-xs text-cyan-500 font-bold uppercase tracking-[0.2em] mb-2 animate-pulse">Prediction</div>
                                            <div class="relative inline-block">
                                                <div class="text-6xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-br from-white via-pink-200 to-pink-500 font-mono tracking-tighter drop-shadow-lg" id="result-value">
                                                    0.00x
                                                </div>
                                            </div>
                                            
                                            <!-- Safety -->
                                            <div class="mt-6 flex items-center justify-center gap-2">
                                                <span class="bg-slate-800/80 text-slate-400 text-xs px-3 py-1.5 rounded-full border border-slate-700 font-mono">
                                                    Safe Exit: <span id="result-safety" class="text-white font-bold">1.00x</span>
                                                </span>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>

                            <!-- Actions -->
                            <div class="grid grid-cols-2 gap-4 mt-6">
                                <button id="btn-win" class="bg-[#0b0e14] hover:bg-emerald-950/30 border border-slate-800 hover:border-emerald-500/50 text-slate-400 hover:text-emerald-400 p-4 rounded-xl font-bold flex flex-col items-center gap-1 transition-all group">
                                    <i data-lucide="check" class="w-6 h-6 group-hover:scale-110 transition-transform"></i>
                                    <span class="text-xs">MARK WIN</span>
                                </button>
                                <button id="btn-loss" class="bg-[#0b0e14] hover:bg-rose-950/30 border border-slate-800 hover:border-rose-500/50 text-slate-400 hover:text-rose-400 p-4 rounded-xl font-bold flex flex-col items-center gap-1 transition-all group">
                                    <i data-lucide="x" class="w-6 h-6 group-hover:scale-110 transition-transform"></i>
                                    <span class="text-xs">MARK LOSS</span>
                                </button>
                            </div>

                        </div>
                        
                        <!-- 4. LOSS INPUT OVERLAY -->
                        <div id="view-loss-input" class="hidden absolute inset-0 z-50 bg-[#0b0e14]/95 backdrop-blur flex flex-col items-center justify-center p-6 text-center animate-fade-in">
                            <i data-lucide="alert-triangle" class="w-12 h-12 text-rose-500 mb-4"></i>
                            <h3 class="text-xl font-bold text-white mb-2">Calibration Required</h3>
                            <p class="text-slate-400 text-sm mb-6 max-w-xs">Enter actual crash point to recalibrate the algorithm for the next signal.</p>
                            
                            <form id="loss-form" class="w-full max-w-xs space-y-4">
                                <input type="number" step="0.01" id="input-loss-odd" placeholder="Actual Crash (e.g. 1.20)" 
                                    class="w-full text-center bg-slate-900 border border-rose-500/50 rounded-xl py-4 text-xl font-mono text-white focus:outline-none focus:border-rose-500 focus:ring-1 focus:ring-rose-500">
                                <button type="submit" class="w-full bg-rose-600 hover:bg-rose-700 text-white font-bold py-3 rounded-xl transition-colors shadow-[0_0_15px_rgba(225,29,72,0.4)]">
                                    RECALIBRATE & PREDICT
                                </button>
                            </form>
                            <button id="btn-cancel-loss" class="mt-4 text-slate-500 hover:text-white text-xs">Cancel</button>
                        </div>

                    </div>
                </div>

            </div>
        </div>

        <!-- Disclaimers -->
        <footer class="text-center py-8 space-y-2">
            <div class="inline-flex items-center gap-2 text-[10px] text-slate-600 uppercase font-bold tracking-widest border border-slate-800 rounded-full px-4 py-1">
                <span class="w-1.5 h-1.5 bg-orange-500 rounded-full"></span>
                Simulation Mode &bull; Owner: Thineth
            </div>
            <p class="text-[10px] text-slate-600 max-w-2xl mx-auto leading-relaxed">
                The "Aviator Predictor Pro" is a statistical analysis simulation tool. Results are calculated based on pattern recognition probabilities and do not guarantee future outcomes. Gambling involves risk.
            </p>
        </footer>

    </div>

    <!-- Modals -->
    <div id="manual-modal" class="fixed inset-0 z-50 hidden bg-black/80 backdrop-blur-sm flex items-center justify-center p-4">
        <div class="bg-[#131722] w-full max-w-2xl rounded-2xl border border-slate-800 shadow-2xl flex flex-col max-h-[85vh]">
            <div class="p-5 border-b border-slate-800 flex justify-between items-center sticky top-0 bg-[#131722] z-10">
                <h3 class="text-lg font-bold text-white flex items-center gap-2">
                    <i data-lucide="book-open" class="w-5 h-5 text-cyan-500"></i> A-Z Betting Guide
                </h3>
                <button id="btn-close-manual" class="text-slate-500 hover:text-white"><i data-lucide="x" class="w-6 h-6"></i></button>
            </div>
            <div class="p-6 overflow-y-auto space-y-8 text-sm text-slate-400 scrollbar-thin">
                
                <!-- Step 1 -->
                <section class="space-y-3">
                    <h4 class="text-cyan-400 font-bold text-base flex items-center gap-2">
                        <span class="bg-cyan-500/20 w-6 h-6 rounded-full flex items-center justify-center text-xs border border-cyan-500/50">1</span>
                        Calibrate the AI
                    </h4>
                    <p class="leading-relaxed">
                        The predictor needs to synchronize with the game's server. Watch the game history and input the <strong>exact results of the last 5 rounds</strong> (Time and Multiplier) into the "Round Data Input" section on the left.
                    </p>
                    <div class="bg-slate-900/50 p-3 rounded border border-slate-800 text-xs italic">
                        <i data-lucide="info" class="w-3 h-3 inline mr-1 text-slate-500"></i>
                        Tip: Accuracy increases if you input data immediately after a round ends.
                    </div>
                </section>

                <!-- Step 2 -->
                <section class="space-y-3">
                    <h4 class="text-cyan-400 font-bold text-base flex items-center gap-2">
                        <span class="bg-cyan-500/20 w-6 h-6 rounded-full flex items-center justify-center text-xs border border-cyan-500/50">2</span>
                        Generate Signal
                    </h4>
                    <p class="leading-relaxed">
                        Once 5 rounds are added, the <span class="text-white font-bold">GET PREDICTION</span> button will unlock. Click it to start the neural analysis. The AI will simulate thousands of outcomes based on the volatility of the entered data.
                    </p>
                </section>

                <!-- Step 3 -->
                <section class="space-y-3">
                    <h4 class="text-cyan-400 font-bold text-base flex items-center gap-2">
                        <span class="bg-cyan-500/20 w-6 h-6 rounded-full flex items-center justify-center text-xs border border-cyan-500/50">3</span>
                        Interpret the Result
                    </h4>
                    <ul class="space-y-3 pl-2">
                        <li class="flex gap-3">
                            <div class="min-w-[4px] bg-slate-700 rounded-full"></div>
                            <div>
                                <span class="text-white font-bold block">Target Time</span>
                                This is the <span class="text-rose-400">exact minute</span> you must place your bet. If the current time is 14:00 and the target is 14:02, wait patiently. Do not bet on rounds between now and the target time.
                            </div>
                        </li>
                        <li class="flex gap-3">
                            <div class="min-w-[4px] bg-pink-500 rounded-full"></div>
                            <div>
                                <span class="text-white font-bold block">Prediction (e.g. 15.40x)</span>
                                This is the AI's projected maximum crash point. This is a high-risk target.
                            </div>
                        </li>
                        <li class="flex gap-3">
                            <div class="min-w-[4px] bg-emerald-500 rounded-full"></div>
                            <div>
                                <span class="text-white font-bold block">Safe Exit (e.g. 3.20x)</span>
                                This is the recommended "Auto-Cashout" setting. It offers the highest probability of winning while still securing a significant profit.
                            </div>
                        </li>
                    </ul>
                </section>

                <!-- Step 4 -->
                <section class="space-y-3">
                    <h4 class="text-cyan-400 font-bold text-base flex items-center gap-2">
                        <span class="bg-cyan-500/20 w-6 h-6 rounded-full flex items-center justify-center text-xs border border-cyan-500/50">4</span>
                        Place Your Bet
                    </h4>
                    <p class="leading-relaxed">
                        When the clock hits the <strong>Target Time</strong>:
                    </p>
                    <ol class="list-decimal pl-5 space-y-1 marker:text-slate-600">
                        <li>Set your "Auto Cashout" to the <strong>Safe Exit</strong> value.</li>
                        <li>Place your bet immediately when the betting phase opens for that minute.</li>
                        <li>If you are feeling risky, you can manually cash out closer to the main Prediction value, but the Safe Exit is recommended for consistency.</li>
                    </ol>
                </section>

                <!-- Step 5 -->
                <section class="space-y-3">
                    <h4 class="text-cyan-400 font-bold text-base flex items-center gap-2">
                        <span class="bg-cyan-500/20 w-6 h-6 rounded-full flex items-center justify-center text-xs border border-cyan-500/50">5</span>
                        Recalibrate
                    </h4>
                    <p class="leading-relaxed">
                        After the round ends, use the <span class="text-emerald-400 font-bold">MARK WIN</span> or <span class="text-rose-400 font-bold">MARK LOSS</span> buttons. 
                        <br><br>
                        If you mark a loss, you will be asked to input the <em>actual</em> result. This is crucial as it feeds the AI's "Correction Matrix" to improve the next prediction.
                    </p>
                </section>

            </div>
            <div class="p-5 border-t border-slate-800 bg-slate-900/50">
                <button id="btn-close-manual-bottom" class="w-full bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 rounded-xl transition-colors">I Understand</button>
            </div>
        </div>
    </div>

    <script>
        // --- Core State ---
        let history = [];
        let prediction = null; 
        let isAnalyzing = false;
        
        // --- DOM Elements ---
        const els = {
            clock: document.getElementById('current-clock'),
            inputTime: document.getElementById('input-time'),
            inputOdd: document.getElementById('input-odd'),
            inputError: document.getElementById('input-error'),
            inputErrorText: document.getElementById('input-error-text'),
            addForm: document.getElementById('add-round-form'),
            historyList: document.getElementById('history-list'),
            historyCount: document.getElementById('history-count'),
            btnClearHistory: document.getElementById('btn-clear-history'),
            
            // Views
            viewIdle: document.getElementById('view-idle'),
            viewAnalyzing: document.getElementById('view-analyzing'),
            viewResult: document.getElementById('view-result'),
            viewLossInput: document.getElementById('view-loss-input'),
            
            // Idle Elements
            idleText: document.getElementById('idle-text'),
            progressBar: document.getElementById('progress-bar'),
            calibrationPercent: document.getElementById('calibration-percent'),
            btnGenerate: document.getElementById('btn-generate'),
            cpuIcon: document.getElementById('cpu-icon'),
            
            // Analysis Elements
            analysisPercent: document.getElementById('analysis-percent'),
            analysisStage: document.getElementById('analysis-stage'),
            analysisSub: document.getElementById('analysis-sub'),
            terminalLogs: document.getElementById('terminal-logs'),
            
            // Result Elements
            resultTime: document.getElementById('result-time'),
            resultValue: document.getElementById('result-value'),
            resultConfidence: document.getElementById('result-confidence'),
            resultSafety: document.getElementById('result-safety'),
            alertBanner: document.getElementById('alert-banner'),
            alertMsg: document.getElementById('alert-msg'),
            
            // Actions
            btnWin: document.getElementById('btn-win'),
            btnLoss: document.getElementById('btn-loss'),
            btnCancelLoss: document.getElementById('btn-cancel-loss'),
            lossForm: document.getElementById('loss-form'),
            inputLossOdd: document.getElementById('input-loss-odd'),
            
            // Modal
            manualModal: document.getElementById('manual-modal'),
            btnOpenManual: document.getElementById('btn-open-manual'),
            btnCloseManual: document.getElementById('btn-close-manual'),
            btnCloseManualBottom: document.getElementById('btn-close-manual-bottom'),
        };

        // --- Init ---
        function init() {
            lucide.createIcons();
            
            // Set initial time
            const now = new Date();
            els.inputTime.value = formatTime(now);

            // Clock Tick
            setInterval(() => {
                const cur = new Date();
                els.clock.textContent = cur.toLocaleTimeString('en-GB', { hour12: false });
                checkAlerts(cur);
            }, 1000);
        }

        // --- Logic & Algorithms ---

        function formatTime(date) {
            const h = String(date.getHours()).padStart(2, '0');
            const m = String(date.getMinutes()).padStart(2, '0');
            const s = String(date.getSeconds()).padStart(2, '0');
            return `${h}:${m}:${s}`;
        }

        function updateUI() {
            const count = history.length;
            els.historyCount.textContent = count;
            
            // Progress Bar
            const percent = Math.min((count / 5) * 100, 100);
            els.progressBar.style.width = `${percent}%`;
            els.calibrationPercent.textContent = `${Math.round(percent)}%`;

            // History Table
            if (count === 0) {
                els.historyList.innerHTML = `
                    <tr><td class="p-8 text-center text-slate-600 text-xs italic">Awaiting Data...</td></tr>`;
                els.btnClearHistory.classList.add('hidden');
            } else {
                els.btnClearHistory.classList.remove('hidden');
                els.historyList.innerHTML = history.map((item, index) => `
                    <tr class="border-b border-slate-800 hover:bg-slate-800/30 transition-colors animate-fade-in" style="animation-delay: ${index * 0.05}s">
                        <td class="p-3">
                            <div class="font-mono text-xs text-slate-400">${item.time}</div>
                        </td>
                        <td class="p-3 text-right">
                            <span class="font-mono font-bold ${parseFloat(item.odd) >= 2.0 ? 'text-cyan-400' : 'text-slate-500'}">
                                ${item.odd}x
                            </span>
                        </td>
                    </tr>
                `).join('');
            }

            // Enable/Disable Generate
            if (count >= 5) {
                els.btnGenerate.disabled = false;
                els.btnGenerate.classList.remove('bg-slate-800', 'text-slate-500', 'cursor-not-allowed');
                els.btnGenerate.classList.add('bg-cyan-600', 'hover:bg-cyan-500', 'text-white', 'cursor-pointer', 'shadow-[0_0_20px_rgba(8,145,178,0.4)]');
                els.btnGenerate.innerHTML = `<span class="flex items-center justify-center gap-2"><i data-lucide="zap" class="w-4 h-4 text-yellow-300"></i> GET PREDICTION</span>`;
                els.cpuIcon.classList.add('text-cyan-400');
                els.cpuIcon.classList.remove('text-slate-600');
                els.idleText.textContent = "Calibration Complete. Neural engine is ready to predict the next high-probability round.";
                els.idleText.classList.add('text-emerald-400');
            } else {
                els.btnGenerate.disabled = true;
                els.btnGenerate.classList.add('bg-slate-800', 'text-slate-500', 'cursor-not-allowed');
                els.btnGenerate.classList.remove('bg-cyan-600', 'hover:bg-cyan-500', 'text-white', 'cursor-pointer', 'shadow-[0_0_20px_rgba(8,145,178,0.4)]');
                els.btnGenerate.innerHTML = `<span class="flex items-center justify-center gap-2"><i data-lucide="lock" class="w-4 h-4"></i> SYSTEM LOCKED</span>`;
                els.cpuIcon.classList.remove('text-cyan-400');
                els.cpuIcon.classList.add('text-slate-600');
                els.idleText.textContent = `System awaiting data calibration. Input ${5 - count} more round(s) to synchronize.`;
                els.idleText.classList.remove('text-emerald-400');
            }
            
            lucide.createIcons();
        }

        function checkAlerts(now) {
            if (!prediction || isAnalyzing) {
                els.alertBanner.classList.add('hidden');
                return;
            }
            
            // Check if current HH:MM matches prediction time
            const nowStr = `${String(now.getHours()).padStart(2,'0')}:${String(now.getMinutes()).padStart(2,'0')}`;
            
            if (nowStr === prediction.timeStr) {
                els.alertBanner.classList.remove('hidden');
                els.alertMsg.textContent = "SIGNAL ACTIVE - BET NOW";
                els.alertBanner.className = "mb-6 rounded-lg p-3 bg-emerald-500/20 border border-emerald-500 text-emerald-300 flex items-center justify-center gap-3 animate-pulse font-bold";
            } else {
                 // Check if it is within 1 minute before
                // Simple logic: parse strings to minutes
                const [h1, m1] = nowStr.split(':').map(Number);
                const [h2, m2] = prediction.timeStr.split(':').map(Number);
                const nowMins = h1 * 60 + m1;
                const predMins = h2 * 60 + m2;
                
                if (predMins - nowMins === 1) {
                    els.alertBanner.classList.remove('hidden');
                    els.alertMsg.textContent = "PREPARE - NEXT MINUTE";
                    els.alertBanner.className = "mb-6 rounded-lg p-3 bg-yellow-500/20 border border-yellow-500 text-yellow-300 flex items-center justify-center gap-3 font-bold";
                } else {
                    els.alertBanner.classList.add('hidden');
                }
            }
        }

        function performAnalysis() {
            isAnalyzing = true;
            els.viewIdle.classList.add('hidden');
            els.viewResult.classList.add('hidden');
            els.viewAnalyzing.classList.remove('hidden');
            
            const logs = [
                "Connecting to server socket...",
                "Handshake successful (44ms)",
                "Downloading hash history...",
                "Analyzing volatility index...",
                "Detecting pattern seed...",
                "Applying correction matrix...",
                "Confidence threshold check...",
                "Prediction finalized."
            ];
            
            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.floor(Math.random() * 5) + 2;
                if (progress > 100) progress = 100;
                
                els.analysisPercent.textContent = `${progress}%`;
                
                // Update log occasionally
                if (progress % 15 < 5 && logs.length > 0) {
                    const log = logs.shift();
                    const p = document.createElement('div');
                    p.textContent = `> ${log}`;
                    els.terminalLogs.appendChild(p);
                    els.terminalLogs.scrollTop = els.terminalLogs.scrollHeight;
                    els.analysisStage.textContent = log;
                }
                
                if (progress === 100) {
                    clearInterval(interval);
                    setTimeout(finalizePrediction, 500);
                }
            }, 100);
        }

        function finalizePrediction() {
            // --- Algorithm ---
            const now = new Date();
            // Add 1-2 minutes for the signal
            const future = new Date(now.getTime() + (Math.random() > 0.5 ? 60000 : 120000)); 
            
            const hh = String(future.getHours()).padStart(2,'0');
            const mm = String(future.getMinutes()).padStart(2,'0');
            const timeStr = `${hh}:${mm}`;

            // Analyze history for "Volatility"
            const last5 = history.slice(0, 5).map(h => parseFloat(h.odd));
            const avg = last5.reduce((a,b) => a+b, 0) / 5;
            const recentCrash = last5[0] < 1.20;
            
            let predictedOdd = 0;
            let confidence = 0;
            
            // "High High High Accurate" Logic (Simulation)
            // TARGET RANGE: 8.00x - 17.00x
            
            if (avg < 2.00 || recentCrash) {
                // High Volatility Detected: Predict upper range (13x - 17x)
                predictedOdd = (Math.random() * (17.00 - 13.00) + 13.00).toFixed(2);
                confidence = (Math.random() * (99.9 - 95.0) + 95.0).toFixed(1);
            } else {
                // Standard Volatility: Predict base range (8x - 13x)
                predictedOdd = (Math.random() * (13.00 - 8.00) + 8.00).toFixed(2);
                confidence = (Math.random() * (95.0 - 88.0) + 88.0).toFixed(1);
            }

            // Safe exit logic for high odds:
            // For massive signals, a "Safe" exit is typically early, but we'll set it to ~20-30% of the peak
            let safeExit = (parseFloat(predictedOdd) * 0.25).toFixed(2);
            // Ensure safe exit is at least 1.50x, capped around 3.00x for safety
            if (parseFloat(safeExit) < 1.50) safeExit = "1.50";
            if (parseFloat(safeExit) > 3.50) safeExit = "3.50";

            prediction = {
                timeStr: timeStr,
                odd: predictedOdd,
                safe: safeExit,
                conf: confidence
            };
            
            // Render Result
            els.resultTime.textContent = prediction.timeStr;
            els.resultValue.textContent = `${prediction.odd}x`;
            els.resultConfidence.textContent = `${prediction.conf}%`;
            els.resultSafety.textContent = `${prediction.safe}x`;
            
            isAnalyzing = false;
            els.viewAnalyzing.classList.add('hidden');
            els.viewResult.classList.remove('hidden');
            els.terminalLogs.innerHTML = ''; // clear logs
        }

        // --- Event Listeners ---

        els.addForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const t = els.inputTime.value;
            const o = els.inputOdd.value;
            
            if(!t || !o) {
                showError("Please fill in Time and Multiplier");
                return;
            }
            
            const cleanOdd = parseFloat(o.replace(',', '.'));
            if(isNaN(cleanOdd)) {
                showError("Invalid Multiplier format");
                return;
            }

            history.unshift({
                time: t,
                odd: cleanOdd.toFixed(2)
            });

            els.inputOdd.value = '';
            els.inputError.classList.add('hidden');
            updateUI();
        });

        function showError(msg) {
            els.inputErrorText.textContent = msg;
            els.inputError.classList.remove('hidden');
            setTimeout(() => els.inputError.classList.add('hidden'), 3000);
        }

        els.btnClearHistory.addEventListener('click', () => {
            history = [];
            prediction = null;
            els.viewResult.classList.add('hidden');
            els.viewIdle.classList.remove('hidden');
            updateUI();
        });

        els.btnGenerate.addEventListener('click', performAnalysis);

        els.btnWin.addEventListener('click', () => {
            // "Win" simply resets to analysis for next round
            performAnalysis();
        });

        els.btnLoss.addEventListener('click', () => {
            els.viewLossInput.classList.remove('hidden');
        });

        els.btnCancelLoss.addEventListener('click', () => {
            els.viewLossInput.classList.add('hidden');
        });

        els.lossForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const val = els.inputLossOdd.value;
            if (val) {
                history.unshift({
                    time: formatTime(new Date()),
                    odd: parseFloat(val).toFixed(2)
                });
                els.inputLossOdd.value = '';
                els.viewLossInput.classList.add('hidden');
                updateUI();
                performAnalysis(); // Auto restart
            }
        });

        // Manual Modals
        const toggleManual = (show) => {
            if(show) els.manualModal.classList.remove('hidden');
            else els.manualModal.classList.add('hidden');
        };
        els.btnOpenManual.addEventListener('click', () => toggleManual(true));
        els.btnCloseManual.addEventListener('click', () => toggleManual(false));
        els.btnCloseManualBottom.addEventListener('click', () => toggleManual(false));

        // Start
        init();
        updateUI();

    </script>
</body>
</html>